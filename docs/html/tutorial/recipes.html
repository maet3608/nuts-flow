

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Recipes &mdash; nutsflow 1.0.8 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="nutsflow 1.0.8 documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="introduction.html"/>
        <link rel="next" title="Practice problems" href="practice_problems.html"/>
        <link rel="prev" title="Performance" href="performance.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> nutsflow
          

          
          </a>

          
            
            
              <div class="version">
                1.0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="introduction.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuts_basics.html">Nuts basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Printing and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="filtering.html">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforming.html">Data transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rearranging.html">Rearranging data</a></li>
<li class="toctree-l2"><a class="reference internal" href="divide_conquer.html">Divide and conquer</a></li>
<li class="toctree-l2"><a class="reference internal" href="sources.html">Reading from Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="sinks.html">Writing to Sinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_nuts.html">Custom nuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="underscore.html">Underscore syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Recipes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#write-csv-file-with-column-names">Write CSV file with column names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-a-mapping-file">Load a mapping file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="practice_problems.html">Practice problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="error_messages.html">Common error messages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributions.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nutsflow.html">nutsflow package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nutsflow</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="introduction.html">Tutorial</a> &raquo;</li>
        
      <li>Recipes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/recipes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="recipes">
<span id="underscore"></span><h1>Recipes<a class="headerlink" href="#recipes" title="Permalink to this headline">¶</a></h1>
<p>A collection of common problems with solutions. Make sure <strong>nutsflow</strong> has been imported.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nutsflow</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<div class="section" id="write-csv-file-with-column-names">
<h2>Write CSV file with column names<a class="headerlink" href="#write-csv-file-with-column-names" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">WriteCSV</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
    <span class="p">[(</span><span class="s1">&#39;Col1&#39;</span><span class="p">,</span> <span class="s1">&#39;Col2&#39;</span><span class="p">)]</span> <span class="o">&gt;&gt;</span> <span class="n">writer</span>
    <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span> <span class="o">&gt;&gt;</span> <span class="n">writer</span>
</pre></div>
</div>
</div>
<div class="section" id="load-a-mapping-file">
<h2>Load a mapping file<a class="headerlink" href="#load-a-mapping-file" title="Permalink to this headline">¶</a></h2>
<p>From a file with two columns create a directory that maps
values in one column to the other. For instance, the following
file contains Arabic numbers and their Roman counterparts.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">arab</span><span class="p">,</span><span class="n">roman</span>
<span class="mi">1</span><span class="p">,</span><span class="n">I</span>
<span class="mi">2</span><span class="p">,</span><span class="n">II</span>
<span class="mi">3</span><span class="p">,</span><span class="n">III</span>
</pre></div>
</div>
<p>We create a Python dictionary that maps Arabic to Roman numbers by
loading the CSV file, dropping the header line, converting Arabic numbers
(that are loaded as strings) to integers and collecting the results in
a dictionary</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fpath</span> <span class="o">=</span> <span class="s1">&#39;tests/data/arab2num.csv&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arab2roman</span> <span class="o">=</span> <span class="n">ReadCSV</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">Drop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">MapCol</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">Collect</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arab2roman</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">&#39;II&#39;</span>
</pre></div>
</div>
<p>For the reversed mapping (Roman to Arabic), we just flip the columns via <code class="docutils literal"><span class="pre">GetCols</span></code>
and use <code class="docutils literal"><span class="pre">skipheader=1</span></code> to skip the header line</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">roman2arab</span> <span class="o">=</span> <span class="p">(</span><span class="n">ReadCSV</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">skipheader</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">MapCol</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">&gt;&gt;</span>
<span class="gp">... </span><span class="n">GetCols</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="n">Collect</span><span class="p">(</span><span class="nb">dict</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roman2arab</span><span class="p">[</span><span class="s1">&#39;III&#39;</span><span class="p">]</span>
<span class="go">3</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="practice_problems.html" class="btn btn-neutral float-right" title="Practice problems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="performance.html" class="btn btn-neutral" title="Performance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, IBM Research Australia.
      Last updated on Apr 19, 2017.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>